# é“¾è¡¨

## å•é“¾è¡¨

### [1. ç¯å½¢é“¾è¡¨ I](https://leetcode-cn.com/problems/linked-list-cycle/)

```javascript
/**
 * @param {ListNode} head
 * @return {boolean}
 */
var hasCycle = function (head) {
  // å®šä¹‰ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼Œä»–ä»¬åˆå§‹åœ¨èµ·å§‹ä½ç½®headä¸Š
  let first = head;
  let slow = head;
  // åˆ¤æ–­å½“å¿«æŒ‡é’ˆåˆ°çš„åœ°æ–¹æˆ–è€…å¿«æŒ‡é’ˆåˆ°çš„åœ°æ–¹çš„ä¸‹ä¸€ä¸ªåœ°æ–¹ä¸ºnullæ—¶ï¼Œè¯´æ˜è¯¥é“¾è¡¨æ²¡æœ‰ç¯å½¢
  while (first && first.next) {
    // å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
    first = first.next.next;
    // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥
    slow = slow.next;
    // å½“å¿«æŒ‡é’ˆè¿½ä¸Šæ»¡æŒ‡é’ˆçš„æ—¶å€™ï¼Œè¯´æ˜é“¾è¡¨æœ‰ç¯å½¢
    if (first === slow) {
      return true;
    }
  }
  return false;
};
/* 
  æƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªé€Ÿåº¦ä¸åŒçš„è·‘æ­¥è€…ã€‚å¦‚æœä»–ä»¬åœ¨ç›´è·¯ä¸Šè¡Œé©¶ï¼Œå¿«è·‘è€…å°†é¦–å…ˆåˆ°è¾¾ç›®çš„åœ°ã€‚
  ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬åœ¨åœ†å½¢è·‘é“ä¸Šè·‘æ­¥ï¼Œé‚£ä¹ˆå¿«è·‘è€…å¦‚æœç»§ç»­è·‘æ­¥å°±ä¼šè¿½ä¸Šæ…¢è·‘è€…ã€‚

  è¿™æ­£æ˜¯æˆ‘ä»¬åœ¨é“¾è¡¨ä¸­ä½¿ç”¨ä¸¤ä¸ªé€Ÿåº¦ä¸åŒçš„æŒ‡é’ˆæ—¶ä¼šé‡åˆ°çš„æƒ…å†µ
  ï¼š1.å¦‚æœæ²¡æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆå°†åœåœ¨é“¾è¡¨çš„æœ«å°¾ã€‚
    2.å¦‚æœæœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆå°†ä¸æ…¢æŒ‡é’ˆç›¸é‡ã€‚
  æ‰€ä»¥å‰©ä¸‹çš„é—®é¢˜æ˜¯è¿™ä¸¤ä¸ªæŒ‡é’ˆçš„é€‚å½“é€Ÿåº¦åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ
  ï¼šä¸€ä¸ªå®‰å…¨çš„é€‰æ‹©æ˜¯æ¯æ¬¡ç§»åŠ¨æ…¢æŒ‡é’ˆä¸€æ­¥ï¼Œè€Œç§»åŠ¨å¿«æŒ‡é’ˆä¸¤æ­¥ã€‚æ¯ä¸€æ¬¡è¿­ä»£ï¼Œå¿«é€ŸæŒ‡é’ˆå°†
    é¢å¤–ç§»åŠ¨ä¸€æ­¥ã€‚å¦‚æœç¯çš„é•¿åº¦ä¸º Mï¼Œç»è¿‡ M æ¬¡è¿­ä»£åï¼Œå¿«æŒ‡é’ˆè‚¯å®šä¼šå¤šç»•ç¯ä¸€å‘¨ï¼Œå¹¶
    èµ¶ä¸Šæ…¢æŒ‡é’ˆã€‚
*/
```

```typescript
function hasCycle(head: ListNode | null): boolean {
  let fast: ListNode = head;
  let slow: ListNode = head;
  while (fast && fast.next) {
    fast = fast.next.next;
    slow = slow.next;
    if (slow === fast) {
      return true;
    }
  }
  return false;
}
```

```typescript
function hasCycle(head: ListNode | null): boolean {
  let map: Map<ListNode, number> = new Map();
  let cur: ListNode = head;
  while (cur && cur.next) {
    if (map.has(cur) === false) {
      map.set(cur, cur.val);
      cur = cur.next;
    } else {
      return true;
    }
  }
  return false;
}
/* 
  é€šè¿‡Mapç»“æ„æ¥ä¿å­˜å·²è®¿é—®è¿‡çš„ä½ç½®ï¼Œå¦‚æœè®¿é—®è¿‡çš„ä½ç½®å†æ¬¡è¢«è®¿é—®åˆ°åˆ™è¯´æ˜æœ‰ç¯å½¢
*/
```

### [2. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var detectCycle = function (head) {
  let fast = head;
  let slow = head;
  while (fast && fast.next) {
    fast = fast.next.next;
    slow = slow.next;
    if (fast === slow) {
      break;
    }
  }
  if (!fast || !fast.next) {
    return null;
  }
  fast = head;
  while (fast !== slow) {
    fast = fast.next;
    slow = slow.next;
  }
  return fast;
};
/* 

*/
```

<img src="https://pic.leetcode-cn.com/1623750708-inrvVm-1623750459597.jpg" />

```typescript
function detectCycle(head: ListNode | null): ListNode | null {
  let set: Set<ListNode> = new Set();
  let cur: ListNode = head;
  while (cur && cur.next) {
    if (set.has(cur) === false) {
      set.add(cur);
      cur = cur.next;
    } else {
      return cur;
    }
  }
  return null;
}
```

### [3. ç›¸äº¤é“¾è¡¨](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

```javascript
/**
 * @param {ListNode} headA
 * @param {ListNode} headB
 * @return {ListNode}
 */
var getIntersectionNode = function (headA, headB) {
  //åˆ›é€ ä¸¤æ¡ç»„åˆé“¾æ¥çš„æ–°é“¾è¡¨ï¼šA->Bï¼ŒB->A
  let la = headA;
  let lb = headB;
  // å½“ä¸¤å¥—æ–°é“¾è¡¨ç›¸ç­‰æ—¶é€€å‡ºå¾ªç¯
  while (la !== lb) {
    // å½“laæˆ–lbåˆ°é“¾è¡¨æœ«å°¾æ—¶å¼€å§‹é“¾æ¥å¦ä¸€æ¡é“¾è¡¨
    la = la ? la.next : headB;
    lb = lb ? lb.next : headA;
  }
  // è‹¥å› ä¸ºå¾ªç¯åˆ¤æ–­ç›¸ç­‰åé€€å‡ºåˆ™laä¸ºç›¸äº¤èŠ‚ç‚¹ï¼Œè‹¥å› ä¸º
  return la;
};
/* 
  å› ä¸ºç›¸äº¤é“¾è¡¨ï¼Œç›¸äº¤åçš„éƒ¨åˆ†å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åˆ¤æ–­é“¾è¡¨ABä¸­èŠ‚ç‚¹ç›¸ç­‰æ¥æ‰¾åˆ°ç›¸äº¤çš„åœ°æ–¹
  ä½†æ˜¯é“¾è¡¨ABå¯èƒ½é•¿åº¦ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆåœ¨é•¿åº¦ä¸ç›¸ç­‰çš„æƒ…å†µä¸‹å¦‚ä½•æ¥å®ç°ä¸€å¯¹ä¸€çš„åˆ¤æ–­é“¾è¡¨ABèŠ‚ç‚¹ç›¸ç­‰å‘¢ï¼Ÿ
  ï¼šå› ä¸ºä¸¤æ¡é“¾è¡¨æœªç›¸äº¤çš„åœ°æ–¹çš„èŠ‚ç‚¹ä¸€å®šä¸ç›¸ç­‰ï¼Œå¯ä»¥åœ¨é“¾è¡¨Aåé“¾æ¥ä¸€ä¸ªé“¾è¡¨Bï¼Œåœ¨é“¾è¡¨Båé¢
    é“¾æ¥ä¸€ä¸ªé“¾è¡¨Aï¼Œè¿™æ ·æ–°ç”Ÿæˆçš„ä¸¤æ¡é“¾è¡¨ç­‰é•¿åº¦äº†ï¼Œå¹¶ä¸”æ˜¯åœ¨åŒä¸€ä¸ªä½ç½®å¼€å§‹çš„èŠ‚ç‚¹ä¸€å¯¹ä¸€ç›¸ç­‰ï¼Œ
    è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªå¾ªç¯ï¼Œä¸¤æ¡é“¾è¡¨çš„èŠ‚ç‚¹ä¸€å¯¹ä¸€ç›¸ç­‰åˆ¤æ–­æ¥æ‰¾åˆ°ç›¸äº¤ç‚¹
*/
```

```typescript
function getIntersectionNode(
  headA: ListNode | null,
  headB: ListNode | null
): ListNode | null {
  const visited: Set<ListNode> = new Set();
  let curA: ListNode = headA;
  let curB: ListNode = headB;
  while (curA) {
    visited.add(curA);
    curA = curA.next;
  }
  while (curB) {
    if (visited.has(curB)) {
      return curB;
    }
    curB = curB.next;
  }
  return null;
}
/* 
  ä½¿ç”¨Setç»“æ„æ¥è§£å†³
  å…ˆå¾ªç¯è®¿é—®headAï¼Œå°†å·²ç»è®¿é—®è¿‡çš„ç»“ç‚¹æ”¾å…¥visitedä¸­
  å†å¾ªç¯è®¿é—®headBï¼Œå¦‚æœvisitedä¸­æœ‰headBä¸­çš„ç»“ç‚¹ï¼Œè¯´æ˜æ˜¯ç¬¬ä¸€ä¸ªäº¤å‰ç»“ç‚¹  
*/
```

<img src="https://pic.leetcode-cn.com/1623763419-NdlZHd-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8-LeetCode-T1.png" />

### [4. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/)

```javascript
/**
 * @param {ListNode} head
 * @param {number} n
 * @return {ListNode}
 */
var removeNthFromEnd = function (head, n) {
  // ç»™headèŠ‚ç‚¹å‰æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
  let pre = new ListNode();
  pre.next = head;
  // å°†å¿«æ…¢æŒ‡é’ˆç§»åŠ¨åˆ°preä¸Š
  let fast = pre;
  let slow = pre;
  // è®©å¿«æŒ‡é’ˆå…ˆèµ°næ­¥
  for (let i = 0; i < n; i++) {
    fast = fast.next;
  }
  // å¿«æ…¢æŒ‡é’ˆå¼€å§‹åŒæ­¥èµ°ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°¾éƒ¨æ—¶é€€å‡ºå¾ªç¯ï¼Œè¿™æ—¶å€™æ…¢æŒ‡é’ˆåœ¨å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªä½ç½®ä¸Š
  while (fast.next) {
    fast = fast.next;
    slow = slow.next;
  }
  // å°†æ…¢æŒ‡é’ˆä¸å¾…åˆ é™¤èŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¿æ¥èµ·æ¥
  slow.next = slow.next.next;
  // è¿”å›preçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¸èƒ½è¿”å›headï¼Œå› ä¸ºå½“é“¾è¡¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œheadçš„valè¿˜æ²¡æœ‰è¢«æ“ä½œåˆ°ï¼Œè¿”å›headä¼šå‡ºé”™
  return pre.next;
};
/* 
  by myself:
    å¾ªç¯ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ±‚å‡ºé“¾è¡¨é•¿åº¦ï¼Œç¬¬äºŒæ¬¡å¾ªç¯ç›´æ¥å°†æŒ‡é’ˆç§»åŠ¨åˆ°å¾…åˆ é™¤çš„ä½ç½®ï¼Œç„¶åæ‰§è¡Œåˆ é™¤æ“ä½œ
  by other:
    ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆç§»åŠ¨næ­¥ï¼Œç„¶åå†è·Ÿæ…¢æŒ‡é’ˆåŒæ­¥ç§»åŠ¨ï¼Œå½“å¿«æŒ‡é’ˆåˆ°é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œæ…¢æŒ‡é’ˆçš„ä¸‹
    ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯å¾…åˆ é™¤çš„èŠ‚ç‚¹ã€‚å…¶ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“é“¾è¡¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™æ˜¯ç‰¹æ®Šæƒ…å†µï¼Œä¸é€‚ç”¨
    å¿«æ…¢æŒ‡é’ˆï¼Œä½†å¦‚æœè¿˜æ˜¯è¦ç»“åˆå¿«æ…¢    æŒ‡é’ˆæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç»™headèŠ‚ç‚¹å‰é¢å†åŠ ä¸€ä¸ªpreèŠ‚ç‚¹ï¼Œå°†å¿«
    æ…¢æŒ‡é’ˆåˆå§‹ä½ç½®ç§»åŠ¨åˆ°preä¸Šæ¥è§£å†³ç‰¹æ®Šæƒ…å†µ
*/
```

```typescript
function removeNthFromEnd(head: ListNode | null, n: number): ListNode | null {
  // ä¸ºheadå¤´èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„dummyHeadèŠ‚ç‚¹ï¼Œç”¨äºè§£å†³é“¾è¡¨åªæœ‰ä¸€ä¸ªå…ƒç´ çš„è¾¹ç•Œé—®é¢˜
  const dummyHead: ListNode = new ListNode();
  dummyHead.next = head;
  let fast: ListNode = dummyHead;
  let slow: ListNode = dummyHead;
  // i è¡¨ç¤ºå½“å‰fastèµ°çš„ç¬¬å‡ æ­¥ï¼Œä¸ºäº†ä¸‹é¢çš„whileå¾ªç¯å°†slowèµ°åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯i <= n
  for (let i = 1; i <= n; i++) {
    fast = fast.next;
  }
  while (fast.next) {
    fast = fast.next;
    slow = slow.next;
  }
  slow.next = slow.next.next;
  return dummyHead.next;
}
```

### [5. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/reverse-linked-list/)

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var reverseList = function (head) {
  // preæ˜¯æ–°çš„é“¾è¡¨å¤´ï¼Œcuræ˜¯å¾…åè½¬çš„èŠ‚ç‚¹
  let pre = null,
    cur = head;
  // åˆ›å»ºå˜é‡å­˜å‚¨å¾…åè½¬èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»¥å¾…ä¸‹ä¸€æ¬¡åè½¬
  let next;
  // å½“å¾…åè½¬çš„èŠ‚ç‚¹ä¸ºnullï¼Œè¯´æ˜åè½¬å®Œæˆé€€å‡ºå¾ªç¯
  while (cur) {
    let next = cur.next;
    // å°†å¾…åè½¬èŠ‚ç‚¹è¿æ¥åˆ°å·²åè½¬é“¾è¡¨å¤´
    cur.next = pre;
    // å°†preå’Œcurå¾€åç§»ä¸€ä½ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡åè½¬ï¼Œ
    pre = cur;
    cur = next;
  }
  return pre;
};
/* 
  
*/
```

```typescript
function reverseList(head: ListNode | null): ListNode | null {
  let pre: ListNode = null;
  let cur: ListNode = head;
  let next: ListNode = null;
  while (cur) {
    next = cur.next;
    cur.next = pre;
    pre = cur;
    cur = next;
  }
  return pre;
}
```

### [6. ç§»é™¤é“¾è¡¨å…ƒç´ ](https://leetcode-cn.com/problems/remove-linked-list-elements/)

```javascript
/**
 * @param {ListNode} head
 * @param {number} val
 * @return {ListNode}
 */
var removeElements = function (head, val) {
  // ç»™headèŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªå‰ç½®èŠ‚ç‚¹
  let tag = new ListNode();
  tag.next = head;
  let pre = tag,
    cur = head;
  while (cur) {
    // å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œå°±åˆ é™¤
    if (cur.val === val) {
      pre.next = cur.next;
      cur = cur.next;
    } else {
      // å¦åˆ™å°±å‘åç§»åŠ¨
      pre = cur;
      cur = cur.next;
    }
  }
  return tag.next;
};
/* 
  ç»™é“¾è¡¨åˆ›å»ºä¸€ä¸ªå‰ç½®èŠ‚ç‚¹ï¼Œä¾¿äºæ“ä½œ
*/
```

```typescript
function removeElements(head: ListNode | null, val: number): ListNode | null {
  let dummyHead = new ListNode(1, head),
    pre = dummyHead,
    cur = head,
    next: ListNode = null;
  while (cur) {
    if (cur.val === val) {
      next = cur.next;
      pre.next = cur.next;
      cur.next = null;
      cur = next;
    } else {
      pre = cur;
      cur = cur.next;
    }
  }
  return dummyHead.next;
}
```

### [7. å¥‡å¶é“¾è¡¨](https://leetcode-cn.com/problems/odd-even-linked-list/)

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var oddEvenList = function (head) {
  // å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘headå’Œheadçš„ä¸‹ä¸€èŠ‚ç‚¹
  let cur1 = head,
    // ç”±äºä¼šå‡ºç°head = nullçš„æƒ…å†µï¼Œæ‰€ä»¥ä½¿ç”¨?.çš„æ–¹å¼é¿å…é”™è¯¯
    cur2 = head?.next;
  if (!cur1) {
    return head;
  }
  // åˆ›å»ºå˜é‡tagæ¥å­˜å‚¨å¶æ•°é“¾çš„å¤´éƒ¨èŠ‚ç‚¹ï¼Œä»¥ä¾¿äºåç»­è¿æ¥åœ¨å¥‡æ•°é“¾çš„æœ«å°¾
  const tag = head.next;
  // å½“ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºnullæ—¶ï¼Œè¯´æ˜é“¾è¡¨æ¯ä¸€ä¸ªèŠ‚ç‚¹å·²ç»éå†å®Œæˆ
  // ä¸”cur1å’Œcur2éƒ½åˆ†åˆ«åœ¨å¥‡å¶é“¾æœ«å°¾å¯ä»¥é€€å‡ºå¾ªç¯äº†
  while (cur1.next && cur2.next) {
    // å°†å¥‡å¶ä½ä¸Šçš„èŠ‚ç‚¹è¿æ¥èµ·æ¥
    cur1.next = cur1.next.next;
    cur1 = cur1.next;
    cur2.next = cur2.next.next;
    cur2 = cur2.next;
  }
  // å°†å¥‡æ•°é“¾çš„æœ«å°¾è¿æ¥ä¸Šå¶æ•°é“¾
  cur1.next = tag;
  return head;
};
/* 
  
*/
```

```typescript
function oddEvenList(head: ListNode | null): ListNode | null {
  let cur1: ListNode = head,
    cur2: ListNode = head?.next;
  if (!cur1) {
    return head;
  }
  const tag = head.next;
  while (cur1.next && cur2.next) {
    cur1.next = cur1.next.next;
    cur1 = cur1.next;
    cur2.next = cur2.next.next;
    cur2 = cur2.next;
  }
  cur1.next = tag;
  return head;
}
```

### [8. å›æ–‡é“¾è¡¨](https://leetcode-cn.com/problems/palindrome-linked-list/)

```javascript
/**
 * @param {ListNode} head
 * @return {boolean}
 */
var isPalindrome = function (head) {
  let len = 0,
    cur = head;
  // è·å–é“¾è¡¨çš„é•¿åº¦ï¼Œå­˜å…¥lenä¸­
  while (cur) {
    cur = cur.next;
    len++;
  }
  // å°†curç§»åŠ¨å›åŸä½head
  cur = head;
  // å°†å‰åŠéƒ¨åˆ†é“¾è¡¨åè½¬
  let next = null,
    pre = null;
  for (let i = 0; i < Math.floor(len / 2); i++) {
    next = cur.next;
    cur.next = pre;
    pre = cur;
    cur = next;
  }
  // åˆ¤æ–­é“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°è¿˜æ˜¯å¶æ•°
  if (len % 2 === 0) {
    while (pre && cur) {
      if (pre.val !== cur.val) {
        return false;
      }
      pre = pre.next;
      cur = cur.next;
    }
  } else {
    // å¦‚æœæ˜¯å¥‡æ•°ï¼Œå°±æŠŠcurç§»åŠ¨åˆ°ä¸‹ä¸€ä½
    cur = cur.next;
    while (pre && cur) {
      if (pre.val !== cur.val) {
        return false;
      }
      pre = pre.next;
      cur = cur.next;
    }
  }
  return true;
};
/* 
  1. æ‰¾åˆ°é“¾è¡¨é•¿åº¦
  2. å°†é“¾è¡¨çš„å‰ä¸€åŠè¿›è¡Œåè½¬
  3. ä¸­é—´å¼€èŠ±ï¼ŒæŒ‡é’ˆå‘ä¸¤ç«¯èµ°ï¼Œä¸€å¯¹ä¸€åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼ˆæ³¨æ„é“¾è¡¨é•¿åº¦çš„å¥‡å¶ï¼‰
*/
```

<img src= "https://pic.leetcode-cn.com/1632624852-AreVHM-0%251A%5B%25E11~6331KEYA0VHDH.png"/>

```typescript
function isPalindrome(head: ListNode | null): boolean {
  // 1.è·å–é“¾è¡¨é•¿åº¦
  let len: number = 0,
    cur: ListNode = head;
  while (cur) {
    cur = cur.next;
    len++;
  }
  cur = head;
  // 2.åè½¬å‰éƒ¨åˆ†é“¾è¡¨
  let next: ListNode = null,
    pre: ListNode = null;
  for (let i = 0; i < Math.floor(len / 2); i++) {
    next = cur.next;
    cur.next = pre;
    pre = cur;
    cur = next;
  }
  // 3.åˆ¤æ–­æ˜¯å¦å›æ–‡
  // é“¾è¡¨èŠ‚ç‚¹å¥‡æ•°ä¸ªï¼Œå°±æŠŠcurå‘åç§»åŠ¨ä¸€ä½
  len % 2 === 0 ? 0 : (cur = cur.next);
  while (cur && pre) {
    if (cur.val !== pre.val) {
      return false;
    }
    pre = pre.next;
    cur = cur.next;
  }
  return true;
}
```

### [9. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

```javascript
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */

// è¯¥mergeTwoListså‡½æ•°çš„ä½œç”¨å°±æ˜¯è¿”å›ä¸¤ä¸ªèŠ‚ç‚¹ä¸­çš„æœ€å°èŠ‚ç‚¹
var mergeTwoLists = function (l1, l2) {
  // å½“l1æˆ–è€…l2ä¸ºnullæ—¶ï¼Œç›´æ¥è¿”å›å¦ä¸€æ¡å‰©ä¸‹çš„å…¨éƒ¨èŠ‚ç‚¹
  if (!l1) {
    return l2;
  }
  if (!l2) {
    return l1;
  }
  if (l1.val < l2.val) {
    // å½“l1èŠ‚ç‚¹çš„å€¼å°äºl2èŠ‚ç‚¹çš„å€¼æ—¶ï¼Œç”¨l1å»è¿æ¥ l1ä¸‹ä¸€èŠ‚ç‚¹å’Œl2ä¸­çš„æœ€å°å€¼ï¼Œä¸‹é¢åŒç†
    l1.next = mergeTwoLists(l1.next, l2);
    return l1;
  } else {
    l2.next = mergeTwoLists(l1, l2.next);
    return l2;
  }
};
var mergeTwoLists = function (l1, l2) {
  //åˆ›å»ºä¸€ä¸ªdummyå¤´èŠ‚ç‚¹å’Œä¸€ä¸ªå½“å‰èŠ‚ç‚¹cur
  let dummy = new ListNode(),
    cur = dummy;
  // å¦‚æœl1å’Œl2æœ‰ä¸€ä¸ªä¸ºnullåˆ™é€€å‡ºå¾ªç¯
  while (l1 && l2) {
    if (l1.val < l2.val) {
      // å½“l1èŠ‚ç‚¹çš„å€¼å°äºl2èŠ‚ç‚¹çš„å€¼æ—¶ï¼Œå°†curèŠ‚ç‚¹è¿æ¥åˆ°l1èŠ‚ç‚¹ï¼Œå¹¶æŠŠl1èŠ‚ç‚¹å¾€åç§»ä¸€ä½ï¼Œä¸‹é¢åŒç†
      cur.next = l1;
      l1 = l1.next;
    } else {
      cur.next = l2;
      l2 = l2.next;
    }
    // å†æŠŠcurèŠ‚ç‚¹å‘åç§»åŠ¨ä¸€ä½
    cur = cur.next;
  }
  // å½“l1æˆ–l2æœ‰ä¸€ä¸ªä¸ºnullæ—¶ï¼Œcurè¿æ¥å¦ä¸€ä¸ªé“¾
  cur.next = l1 ? l1 : l2;
  // è¿”å›dummyèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
  return dummy.next;
};

/* 
  æ–¹æ³•ä¸€ï¼š
    é€šè¿‡é€’å½’çš„æ–¹å¼
  æ–¹æ³•äºŒï¼š
    ç»™åˆå¹¶é“¾è¡¨æ·»åŠ ä¸€ä¸ªdummyèŠ‚ç‚¹ï¼Œå®šä¹‰ä¸€ä¸ªcuræŒ‡å‘dummyèŠ‚ç‚¹ï¼Œcurçš„nextè¿æ¥ä¸¤ä¸ªé“¾è¡¨çš„æœ€å°èŠ‚ç‚¹
    æœ¬é¢˜é€šè¿‡ä¸‰ä¸ªæŒ‡é’ˆçš„æ–¹å¼ï¼šcur l1 l2 æ¥è¿›è¡Œè§£ç­”
*/
```

```typescript
// é€’å½’ä¸‰éƒ¨æ›²
function mergeTwoLists(
  l1: ListNode | null,
  l2: ListNode | null
): ListNode | null {
  // 1. ç»ˆæ­¢æ¡ä»¶
  if (!l1) {
    return l2;
  } else if (!l2) {
    return l1;
  }
  // 2. æœ¬è½®å¾ªç¯åº”è¯¥åšçš„å·¥ä½œ
  if (l1.val < l2.val) {
    l1.next = mergeTwoLists(l1.next, l2);
    // 3. æœ¬è½®å¾ªç¯åº”è¯¥è¿”å›çš„ä¸œè¥¿
    return l1;
  } else {
    l2.next = mergeTwoLists(l1, l2.next);
    return l2;
  }
}
// éå†
function mergeTwoLists(
  l1: ListNode | null,
  l2: ListNode | null
): ListNode | null {
  let dummy: ListNode = new ListNode(),
    cur: ListNode = dummy;
  while (l1 && l2) {
    if (l1.val < l2.val) {
      cur.next = l1;
      l1 = l1.next;
    } else {
      cur.next = l2;
      l2 = l2.next;
    }
    cur = cur.next;
  }
  cur.next = l1 ? l1 : l2;
  return dummy.next;
}
```

### [10. ä¸¤æ•°ç›¸åŠ ](https://leetcode-cn.com/problems/add-two-numbers/)

```javascript
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function (l1, l2) {
  // åˆ›å»ºç¬¬ä¸‰æ¡èŠ‚ç‚¹çš„è™šæ‹ŸdummyèŠ‚ç‚¹å¤´
  const dummy = new ListNode();
  // åˆ›å»ºå˜é‡curæŒ‡å‘è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œåˆ›å»ºcarryæ¥å­˜å‚¨è¿›ä½æ•°ï¼Œåˆ›å»ºsumæ¥å‚¨å­˜æ±‚å’Œæ•°
  let cur = dummy,
    carry = 0,
    sum = 0;
  // å½“l1 l2ä¸ºnull carryä¸º0 çš„æ—¶å€™é€€å‡ºå¾ªç¯
  while (l1 || l2 || carry) {
    // æ¯æ¬¡å¾ªç¯ä¸€å¼€å§‹å°†sumæ¸…é›¶
    sum = 0;
    // å½“ä¸€æ¡é“¾è¡¨çš„èŠ‚ç‚¹ä¸ºnullæ—¶ï¼Œè®¾ç½®å…¶å€¼ä¸º0
    sum = (l1 ? l1.val : 0) + (l2 ? l2.val : 0) + carry;
    // carryä½¿ç”¨è¿‡åæ¸…é›¶
    carry = 0;
    // å½“ä¸€æ¬¡æ±‚å’Œçš„sumå¤§äº10æ—¶ï¼Œè¦è¿›è¡Œè¿›ä½æ“ä½œï¼Œå°†è¿›ä½æ•°ç»™åˆ°carryï¼Œsumå–ä¸ªä½
    carry = Math.floor(sum / 10);
    sum = sum % 10;
    // å°†curçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼æˆä¸€ä¸ªæ–°çš„ å€¼ä¸ºsumçš„èŠ‚ç‚¹
    cur.next = new ListNode(sum);
    // å¦‚æœl1,l2å­˜åœ¨æ—¶ï¼Œä¼šè¿›è¡Œè¿›ä½
    if (l1 != null) {
      l1 = l1.next;
    }
    if (l2 != null) {
      l2 = l2.next;
    }
    cur = cur.next;
  }
  return dummy.next;
};

/* 
  ä¸¤æ•°ä¹‹å’Œï¼Œé€šè¿‡æ„é€ ç¬¬ä¸‰æ¡é“¾è¡¨ï¼Œæ¥å­˜å‚¨l1,l2é“¾è¡¨çš„æ±‚å’Œæ•°ï¼Œæ³¨æ„è¿›ä½å’Œä¸¤æ¡é“¾è¡¨é•¿åº¦ä¸å¯¹ç­‰çš„é—®é¢˜
*/
```

```typescript
function addTwoNumbers(
  l1: ListNode | null,
  l2: ListNode | null
): ListNode | null {
  const dummy: ListNode = new ListNode();
  let tag: number = 0,
    sum: number = 0,
    cur: ListNode = dummy;
  while (tag !== 0 || l1 !== null || l2 !== null) {
    sum = (l1 ? l1.val : 0) + (l2 ? l2.val : 0) + tag;
    tag = Math.floor(sum / 10);
    l1 ? (l1 = l1.next) : 0;
    l2 ? (l2 = l2.next) : 0;
    cur.next = new ListNode(sum % 10);
    cur = cur.next;
  }
  return dummy.next;
}
```

### [11. æ—‹è½¬é“¾è¡¨](https://leetcode-cn.com/problems/rotate-list/)

```javascript
/**
 * @param {ListNode} head
 * @param {number} k
 * @return {ListNode}
 */
var rotateRight = function (head, k) {
  // å®šä¹‰countè®¡ç®—é“¾è¡¨çš„é•¿åº¦
  let count = 0,
    cur = head;
  // å¦‚æœé“¾è¡¨æ²¡æœ‰èŠ‚ç‚¹ï¼Œå°±ç›´æ¥è¿”å›
  if (!head) {
    return head;
  }
  // é€šè¿‡å¾ªç¯å°†curç§»åŠ¨åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹
  while (cur.next) {
    cur = cur.next;
    count++;
  }
  // å› ä¸ºå¾ªç¯é€€å‡ºæ¡ä»¶æ˜¯cur.nextç­‰äºnullï¼Œæ‰€ä»¥æ­¤æ—¶countæ¯”çœŸå®çš„é“¾è¡¨é•¿åº¦å°1
  count++;
  // å¦‚æœKç­‰äºé“¾è¡¨é•¿åº¦ï¼Œå°±ç›´æ¥æŠŠé“¾è¡¨è¿”å›
  if (k === count) {
    return head;
  }
  // å°†é“¾è¡¨æœ«å°¾è¿æ¥åˆ°å¤´èŠ‚ç‚¹
  cur.next = head;
  // å†å°†curæ”¾ç½®åœ¨å¤´èŠ‚ç‚¹
  cur = head;
  // å°†Kä¿®æ”¹æˆä»å¤´èŠ‚ç‚¹å‡ºå‘åˆ°è¾¾è¦æ–­å¼€èŠ‚ç‚¹çš„æ­¥æ•°
  k = count - (k % count) - 1; // å…¶ä¸­å½“Kå¤§äºé“¾è¡¨é•¿åº¦æ—¶ï¼Œå°±å‡ºç°äº†å¾ªç¯ï¼Œå¾ªç¯ç›¸å½“äºä»€ä¹ˆéƒ½æ²¡å˜
  // ç§»åŠ¨curåˆ°è¦æ–­å¼€çš„åœ°æ–¹
  for (let i = 0; i < k; i++) {
    cur = cur.next;
  }
  // å­˜å‚¨curçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“ä½œæ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
  const ret = cur.next;
  // æ–­å¼€curä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥
  cur.next = null;
  return ret;
};

/* 
  æ ¹æ®é¢˜ç›®æ„æ€ç®€åŒ–è§£é¢˜æ€è·¯ï¼šä¸€è¿ï¼ŒäºŒæ–­ï¼Œä¸‰è€ƒè™‘
    1.æ‰¾åˆ°é“¾è¡¨é•¿åº¦çš„åŒæ—¶å°†æœ«å°¾èŠ‚ç‚¹è¿æ¥åˆ°å¤´èŠ‚ç‚¹
    2.æ‰¾åˆ°è¦æ–­å¼€é“¾è¡¨çš„åœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯æ–°é“¾è¡¨çš„æœ«å°¾èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹è¿æ¥çš„åœ°æ–¹
    3.è€ƒè™‘è¾¹å€¼æƒ…å†µï¼Œä¾‹å¦‚é“¾è¡¨ä¸ºç©ºï¼ŒKç­‰äºé“¾è¡¨é•¿åº¦
*/
```

```typescript
function rotateRight(head: ListNode | null, k: number): ListNode | null {
  if (head === null) {
    return head;
  }
  let n: number = 0,
    cur: ListNode = head,
    step: number = 0;
  while (cur.next) {
    cur = cur.next;
    n++;
  }
  cur.next = head;
  cur = head;
  // å› ä¸ºå¾ªç¯ç»“æŸæ¡ä»¶æ˜¯cur.nextæ‰€ä»¥nè¿˜å¾—åŠ ä¸€æ¬¡æ‰æ˜¯é“¾è¡¨çš„é•¿åº¦
  n++;
  step = n - (k % n) - 1;
  while (step > 0) {
    cur = cur.next;
    step--;
  }
  const ret: ListNode = cur.next;
  cur.next = null;
  return ret;
}
```

### [12. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/)

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var deleteDuplicates = function (head) {
  let cur = head;
  while (cur?.next) {
    if (cur.val === cur.next.val) {
      // å¦‚æœå½“å‰èŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ç›¸ç­‰,å°±æŠŠå½“å‰èŠ‚ç‚¹è¿æ¥åˆ°ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹
      cur.next = cur.next.next;
    } else {
      // å¦‚æœä¸ç›¸ç­‰å°±ç§»ä½
      cur = cur.next;
    }
  }
  return head;
};
/* 

*/
```

```typescript
function deleteDuplicates(head: ListNode | null): ListNode | null {
  let cur: ListNode = head;
  while (cur?.next) {
    if (cur.val === cur.next.val) {
      cur.next = cur.next.next;
    } else {
      cur = cur.next;
    }
  }
  return head;
}
```

### [13. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/swap-nodes-in-pairs/)

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
// è¿­ä»£
var swapPairs = function (head) {
  // åˆ›å»ºdummyèŠ‚ç‚¹ï¼Œå°†èŠ‚ç‚¹ä¸¤ä¸¤ä¹‹é—´çš„å…³ç³»æ›´æ”¹æˆä¸‰ä¸‰ä¹‹é—´çš„å…³ç³»
  let dummyHead = new ListNode(),
    temp;
  dummyHead.next = head;
  temp = dummyHead;
  // å½“tempçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸‹ä¸ªèŠ‚ç‚¹éƒ½ä¸ä¸ºnullæ—¶ï¼Œæ‰èƒ½è¿›è¡Œäº¤æ¢
  while (temp.next !== null && temp.next.next !== null) {
    // ä» temp->node1->node2 åˆ° temp->node2->node1
    const node1 = temp.next;
    const node2 = temp.next.next;
    temp.next = node2;
    node1.next = node2.next;
    node2.next = node1;
    // å°†tempç§»åŠ¨åˆ°node1çš„ä½ç½®
    temp = node1;
  }
  return dummyHead.next;
};
// é€’å½’
var swapPairs = function (head) {
  if (head === null || head.next === null) {
    return head;
  }
  let next = head.next;
  head.next = swapPairs(next.next);
  next.next = head;
  return next;
};
/* 

*/
```

```typescript
// é€’å½’ä¸‰éƒ¨æ›²
function swapPairs(head: ListNode | null): ListNode | null {
  // 1.ç»ˆæ­¢æ¡ä»¶
  if (head === null || head.next === null) {
    return head;
  }
  // 2.æœ¬è½®å¾ªç¯æ“ä½œ
  const next: ListNode = head.next;
  head.next = swapPairs(next.next);
  next.next = head;
  // 3.æœ¬è½®è¿”å›å€¼
  return next;
}
// è¿­ä»£
function swapPairs(head: ListNode | null): ListNode | null {
  let dummy: ListNode = new ListNode(0, head),
    temp = dummy;
  let node1: ListNode = null;
  let node2: ListNode = null;
  while (temp.next && temp.next.next) {
    node1 = temp.next;
    node2 = temp.next.next;
    temp.next = node2;
    node1.next = node2.next;
    node2.next = node1;
    temp = node1;
  }
  return dummy.next;
}
```

<a href="https://lyl0724.github.io/2020/01/25/1/">é€’å½’å‚è€ƒ</a>

### [14. ä¸¤æ•°ç›¸åŠ  II](https://leetcode-cn.com/problems/add-two-numbers-ii/)

```javascript
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function (l1, l2) {
  /* 
    l1: 7->5->4->3
    l2: 4->6->3
  */
  // åˆ›å»ºä¸¤ä¸ªæ•°ç»„ï¼Œæ¥å­˜å‚¨é“¾è¡¨çš„å€¼
  const stack1 = [];
  const stack2 = [];
  // ä½¿ç”¨æ•°ç»„çš„unshiftçš„æ–¹æ³•å°†é“¾è¡¨çš„å€¼åè½¬åœ¨æ•°ç»„ä¸­
  while (l1 !== null) {
    stack1.unshift(l1.val);
    l1 = l1.next;
  }
  while (l2 !== null) {
    stack2.unshift(l2.val);
    l2 = l2.next;
  }
  /* 
    stack1: [3,4,5,7]
    stack2: [3,6,4]
  */
  // sumä¿å­˜æ±‚å’Œçš„å€¼ï¼Œtagä¿å­˜è¿›ä½
  let sum = 0,
    tag = 0,
    i = 0,
    cur = null;
  while (stack1[i] !== undefined || stack2[i] !== undefined) {
    // ç»™æ¯ä¸€ä¸ªsumå€¼åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹æ¥å­˜å‚¨å®ƒ
    let newNode = new ListNode();
    // å°†æ–°å»ºçš„èŠ‚ç‚¹æ”¾åœ¨curèŠ‚ç‚¹çš„å‰é¢
    newNode.next = cur;
    cur = newNode;
    // å½“æœ‰ä¸€ä¸ªæ•°ç»„çš„å€¼æ²¡æœ‰äº†å°±ä¸º0
    sum = (stack1[i] ? stack1[i] : 0) + (stack2[i] ? stack2[i] : 0) + tag;
    tag = Math.floor(sum / 10);
    cur.val = sum % 10;
    i++;
  }
  // å¦‚æœä¸¤ä¸ªæ•°ç»„éƒ½æ²¡æœ‰å€¼äº†ï¼Œä½†æ˜¯è¿›ä½tagè¿˜æœ‰1,å°±å¾€å‰ç»§ç»­åˆ›å»ºèŠ‚ç‚¹å­˜å‚¨1
  if (tag) {
    let newNode = new ListNode();
    newNode.next = cur;
    cur = newNode;
    cur.val = tag;
  }
  return cur;
};
/* 
  é¢˜ç›®åˆ†æï¼š
   1. æ ¹æ®ä¸¤æ¡é“¾è¡¨çœ‹å‡ºï¼Œå…¶å¯¹ä½ç›¸åŠ åº”è¯¥ä»æœ«å°¾èŠ‚ç‚¹å¼€å§‹å¯¹ä½ç›¸åŠ ï¼Œæœ‰è¿›ä½è¿›ä½
   2. æ‰€ä»¥é¦–å…ˆè€ƒè™‘åˆ°åè½¬é“¾è¡¨ï¼Œå°† ä¸¤æ•°ç›¸åŠ II è½¬å˜æˆ ä¸¤æ•°ç›¸åŠ I æ¥åšï¼Œä½†æ˜¯é¢˜ç›®è¿›
      é˜¶è¦æ±‚è¾“å…¥é“¾è¡¨ä¸èƒ½ä¿®æ”¹
   3. æ‰€ä»¥æˆ‘ä»¬å¼€å§‹è€ƒè™‘æ ˆï¼Œå°†ä¸¤æ¡é“¾è¡¨å‹æ ˆï¼Œå‹å®Œåï¼Œå¯¹ä¸¤ä¸ªæ ˆå‡ºæ ˆçš„å…ƒç´ è¿›è¡Œç›¸åŠ ï¼Œ
      å°±è¾¾åˆ°äº†æœ«å°¾èŠ‚ç‚¹å¯¹ä½ç›¸åŠ çš„æ•ˆæœ
   4. ä½†æ˜¯JSé‡Œé¢å¹¶æ²¡æœ‰çœŸçš„æ ˆæ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®æ•°ç»„çš„ç‰¹ç‚¹æ›´åŠ ç®€åŒ–ï¼Œ
      ç›´æ¥å°†é“¾è¡¨çš„å€¼åè½¬åˆ°æ•°ç»„ä¸­ï¼Œä»æ•°ç»„çš„ä¸‹æ ‡0å¼€å§‹å¯¹ä½ç›¸åŠ 
*/
```

```typescript
function addTwoNumbers(
  l1: ListNode | null,
  l2: ListNode | null
): ListNode | null {
  const stack1: number[] = [];
  const stack2: number[] = [];
  while (l1 !== null) {
    stack1.unshift(l1.val);
    l1 = l1.next;
  }
  while (l2 !== null) {
    stack2.unshift(l2.val);
    l2 = l2.next;
  }
  let sum = 0,
    tag = 0,
    i = 0,
    cur = null;
  while (stack1[i] !== undefined || stack2[i] !== undefined || tag !== 0) {
    let newNode: ListNode = new ListNode();
    newNode.next = cur;
    cur = newNode;
    sum = (stack1[i] ? stack1[i] : 0) + (stack2[i] ? stack2[i] : 0) + tag;
    tag = Math.floor(sum / 10);
    cur.val = sum % 10;
    i++;
  }
  return cur;
}
```

<img src="https://pic.leetcode-cn.com/1626420025-fZfzMX-image.png" />

### [15. åˆ†éš”é“¾è¡¨](https://leetcode-cn.com/problems/split-linked-list-in-parts/)

```javascript
/**
 * @param {ListNode} head
 * @param {number} k
 * @return {ListNode[]}
 */
var splitListToParts = function (head, k) {
  let len = 0,
    cur = head;
  // å…ˆè·å–é“¾è¡¨çš„é•¿åº¦len
  while (cur) {
    cur = cur.next;
    len++;
  }

  // å®šä¹‰partsæ¥å­˜å‚¨é“¾è¡¨æ•°ç»„
  let parts = new Array(k).fill(null),
    // å°†é“¾è¡¨é•¿åº¦è¿›è¡Œæ•°æ®å¤„ç†ï¼Œå¾—åˆ°partsä¸­æ¯ä¸ªéƒ¨åˆ†çš„é•¿åº¦
    // å…¶ä¸­aveLengthæ˜¯å¹³å‡æ¯ä¸ªéƒ¨åˆ†çš„é•¿åº¦ï¼Œremainderæ˜¯ä½™æ•°ï¼Œä½™æ•°å¹³å‡åŠ åˆ°partså‰é¢çš„remainderä¸ªéƒ¨åˆ†
    aveLength = Math.floor(len / k),
    remainder = len % k,
    // å®šä¹‰tempæ¥å­˜å‚¨partsæ¯ä¸ªéƒ¨åˆ†çš„é“¾è¡¨å¤´èŠ‚ç‚¹
    temp,
    i = 0;
  cur = head;
  while (cur) {
    parts[i] = cur;
    // æœ€å¼€å§‹å‰é¢éƒ¨åˆ†ï¼Œæœ‰ä½™æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªéƒ¨åˆ†é•¿åº¦ç­‰äºaveLength+1ï¼Œæ²¡æœ‰ä½™æ•°å°±ç­‰äºaveLength
    for (let j = 1; j < aveLength + (remainder > 0 ? 1 : 0); j++) {
      cur = cur.next;
    }
    // å­˜å‚¨ä¸‹ä¸€ä¸ªå­é“¾è¡¨çš„å¤´èŠ‚ç‚¹
    temp = cur.next;
    // å­é“¾è¡¨ç”Ÿæˆåï¼Œæ–­å¼€è¿æ¥
    cur.next = null;
    cur = temp;
    // forå¾ªç¯ä¸€æ¬¡å°±å°†ä½™æ•°å‡1ç›´åˆ°ä½™æ•°ç­‰äº0
    if (remainder > 0) {
      remainder--;
    }
    i++;
  }
  return parts;
};
/* 
  é¢˜ç›®åˆ†æï¼š
    1. éå†é“¾è¡¨è·å–é•¿åº¦ lengthï¼ˆè¿™ä¸ªè·‘ä¸æ‰ ğŸ˜“ï¼‰ï¼›
    2. length é™¤ä»¥ k å¾—åˆ°æ¯æ®µé“¾è¡¨çš„å¹³å‡é•¿åº¦ aveLength å’Œ ä½™æ•° remainderï¼Œremainder çš„å€¼å°±æ˜¯æœ‰å¤šå°‘ä¸ªé•¿åº¦ä¸º (aveLength + 1) çš„å­é“¾è¡¨æ’åœ¨å‰é¢ã€‚
      2.1 ä¸¾ä¸ªä¾‹å­å¸®åŠ©ç†è§£ä¸€ä¸‹ 11 / 3 = 3 ä½™ 2ï¼š ä¸€å…±æœ‰3æ®µï¼Œæ¯æ®µå¹³å‡3ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯å‰©ä¸‹äº†2ä¸ªèŠ‚ç‚¹ï¼Œå‰©ä¸‹çš„2ä¸ªèŠ‚ç‚¹ä¸èƒ½ä¸¢å•Šï¼Œå¾—å…¨éƒ¨å¡åˆ°å­é“¾è¡¨é‡Œé¢å»ï¼Œæ€ä¹ˆå¡å‘¢ï¼Ÿ
      2.2 æ ¹æ®é¢˜æ„é•¿çš„é“¾è¡¨æ’å‰é¢ï¼ŒçŸ­çš„é“¾è¡¨æ’åé¢ï¼Œæ‰€ä»¥åªæœ‰å‰é¢çš„ä¸¤ä¸ªå­é“¾è¡¨ä¸€äººåˆ†æ‹…ä¸€ä¸ªå¤šä½™çš„èŠ‚ç‚¹ï¼Œå¦‚æ­¤ä¸€æ¥ä¾¿å½¢æˆäº† 4 4 3 çš„ç»“æ„ã€‚
    3. æ¥ä¸‹æ¥çš„äº‹å„¿å°±æ¯”è¾ƒç®€å•äº†ï¼ŒæŒ‰ç…§æ¯ä¸ªå­é“¾è¡¨åº”è¯¥çš„é•¿åº¦[4, 4, 3]å»æˆªæ–­ç»™å®šçš„é“¾è¡¨ã€‚
*/
```

## åŒé“¾è¡¨

### [1. æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨](https://leetcode-cn.com/problems/flatten-a-multilevel-doubly-linked-list/solution/)

```javascript
/**Â·
 * @param {Node} head
 * @return {Node}
 */
var flatten = function (head) {
  // å½“é“¾è¡¨ä¸ºç©ºæ—¶ï¼Œç›´æ¥è¿”å›ç©ºé“¾è¡¨
  if (head === null) {
    return head;
  }
  let cur = head;
  // å®šä¹‰ä¸€ä¸ªtempæ•°ç»„æ¥å‚¨å­˜å³èŠ‚ç‚¹
  const temp = [];
  // å®šä¹‰ä¸€ä¸ªcountæ¥è®¡ç®—tempé‡Œé¢å³èŠ‚ç‚¹çš„ä¸ªæ•°
  let count = 0;
  // å½“ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰nextèŠ‚ç‚¹å¹¶ä¸”æ²¡æœ‰childèŠ‚ç‚¹å¹¶ä¸”countä¹Ÿä¸º0
  // (countä¸º0,è¯´æ˜æ²¡æœ‰ä¸Šä¸€çº§çš„å³èŠ‚ç‚¹éœ€è¦è¿æ¥)æ—¶,è¯´æ˜æ­¤æ—¶curåœ¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸Š
  while (cur.next !== null || count !== 0 || cur.child !== null) {
    // å¦‚æœè¯¥èŠ‚ç‚¹æœ‰childèŠ‚ç‚¹(å·¦èŠ‚ç‚¹),æ­¤æ—¶å°±éœ€è¦æŠŠchildèŠ‚ç‚¹æ‰å¹³åŒ–,å¼€å§‹éå†è¿æ¥å·¦èŠ‚ç‚¹
    if (cur.child) {
      // å¦‚æœæœ‰å³èŠ‚ç‚¹,å°±æŠŠå³èŠ‚ç‚¹å­˜å‚¨åœ¨tempä¸­,ä¾¿äºåç»­è¿æ¥
      if (cur.next !== null) {
        count++;
        temp[count] = cur.next;
      }
      // å°†curèŠ‚ç‚¹å’ŒchildèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥æ”¹æˆåŒé“¾è¡¨è¿æ¥
      cur.next = cur.child;
      cur.child.prev = cur;
      // è¦æŠŠchildèŠ‚ç‚¹è®¾ä¸ºnull,æ‰æ˜¯ä¸€ä¸ªåˆç†çš„åŒå‘é“¾è¡¨,åŒå‘é“¾è¡¨ä¸èƒ½æœ‰åˆ†æ”¯
      cur.child = null;
    }
    // å¦‚æœå·¦èŠ‚ç‚¹åˆ°å¤´äº†,å¹¶ä¸”countä¸ä¸º0,ä¹Ÿå°±æ˜¯æœ‰å³èŠ‚ç‚¹æ—¶,å°±å¼€å§‹è¿æ¥å³èŠ‚ç‚¹
    if (cur.next === null && count !== 0) {
      cur.next = temp[count];
      // å°†childå•é“¾å˜æˆåŒé“¾
      temp[count].prev = cur;
      count--;
    }
    // å°†curæŒ‡é’ˆç§»ä½
    cur = cur.next;
  }
  return head;
};
/* 
  å°†å¤šçº§é“¾è¡¨æŠ½è±¡çœ‹æˆæ ‘çš„ç»“æ„,é€šè¿‡å‰åºéå†(æ ¹å·¦å³)æ¥è¿›è¡Œé“¾è¡¨æ‰å¹³åŒ–,å¦‚ä¸‹å›¾
  
  ä»ä¸­é—´æ ¹èŠ‚ç‚¹å¼€å§‹éå†,ç„¶åæ˜¯å·¦èŠ‚ç‚¹,ç„¶åå³èŠ‚ç‚¹,æ³¨æ„ä»æ ¹èŠ‚ç‚¹éå†åˆ°å·¦èŠ‚ç‚¹æ—¶
  å¦‚æœæœ‰å³èŠ‚ç‚¹,è¦å°†å³èŠ‚ç‚¹å­˜åœ¨tempæ•°ç»„é‡Œé¢,å¹¶ä¸”ç”¨countè®°å½•ä¸ªæ•°
  å½“å·¦èŠ‚ç‚¹çš„nextä¸ºnulæ—¶,è¯´æ˜å·¦èŠ‚ç‚¹éå†å®Œæˆ,ç„¶åä»ä¸‹åˆ°ä¸Šéå†å³èŠ‚ç‚¹

  æ³¨æ„ç•Œå€¼é—®é¢˜
*/
```

<img src="https://pic.leetcode-cn.com/1622041357-JQLhyA-%E6%97%A0%E6%A0%87%E9%A2%98.png">
